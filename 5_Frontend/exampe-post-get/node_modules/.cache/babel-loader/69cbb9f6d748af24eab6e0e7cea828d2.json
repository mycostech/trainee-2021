{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useCallback, useState } from \"react\";\nimport userApi from \"../api/userAPI\";\n\nconst useUserApi = () => {\n  _s();\n\n  const [users, setUsers] = useState([]); //users เก็บ User ที่เป็น arr\n\n  const [loading, setLoading] = useState(false);\n  const getAllUsers = useCallback(async () => {\n    setLoading(true);\n    const result = await userApi.getUsers();\n    setUsers(result.data);\n    setLoading(false);\n  }, [setLoading, setUsers]);\n  const insertUser = useCallback(async newUser => {\n    setLoading(true);\n    const updatedUser = await userApi.postUser(newUser);\n    console.log(\"updatedUser : \", updatedUser);\n    setUsers(users => [...users, updatedUser.data]); // setUsers([...users, newUser])\n\n    setLoading(false);\n  }, [setUsers, setLoading]);\n  return [users, loading, getAllUsers, insertUser];\n};\n\n_s(useUserApi, \"T/YgiUV9T2dt4sqaRsRbN6RfLBo=\");\n\nexport default useUserApi;","map":{"version":3,"sources":["D:/Mycos/5_Frontend/exampe-post-get/src/hooks/useUserApi.ts"],"names":["useCallback","useState","userApi","useUserApi","users","setUsers","loading","setLoading","getAllUsers","result","getUsers","data","insertUser","newUser","updatedUser","postUser","console","log"],"mappings":";;AAAA,SAASA,WAAT,EAAsBC,QAAtB,QAAsC,OAAtC;AACA,OAAOC,OAAP,MAAoB,gBAApB;;AAGA,MAAMC,UAAU,GAAG,MAAM;AAAA;;AAErB,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBJ,QAAQ,CAAS,EAAT,CAAlC,CAFqB,CAE0B;;AAC/C,QAAM,CAACK,OAAD,EAAUC,UAAV,IAAwBN,QAAQ,CAAU,KAAV,CAAtC;AAEA,QAAMO,WAAW,GAAGR,WAAW,CAC3B,YAAY;AACRO,IAAAA,UAAU,CAAC,IAAD,CAAV;AACA,UAAME,MAAM,GAAG,MAAMP,OAAO,CAACQ,QAAR,EAArB;AACAL,IAAAA,QAAQ,CAACI,MAAM,CAACE,IAAR,CAAR;AACAJ,IAAAA,UAAU,CAAC,KAAD,CAAV;AACH,GAN0B,EAO3B,CAACA,UAAD,EAAaF,QAAb,CAP2B,CAA/B;AAUA,QAAMO,UAAU,GAAGZ,WAAW,CAC1B,MAAOa,OAAP,IAAyB;AACrBN,IAAAA,UAAU,CAAC,IAAD,CAAV;AACA,UAAMO,WAAW,GAAG,MAAMZ,OAAO,CAACa,QAAR,CAAiBF,OAAjB,CAA1B;AACAG,IAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BH,WAA9B;AACAT,IAAAA,QAAQ,CAACD,KAAK,IAAI,CAAC,GAAGA,KAAJ,EAAWU,WAAW,CAACH,IAAvB,CAAV,CAAR,CAJqB,CAMrB;;AACAJ,IAAAA,UAAU,CAAC,KAAD,CAAV;AACH,GATyB,EAU1B,CAACF,QAAD,EAAWE,UAAX,CAV0B,CAA9B;AAaA,SAAO,CACHH,KADG,EAEHE,OAFG,EAGHE,WAHG,EAIHI,UAJG,CAAP;AAMH,CAlCD;;GAAMT,U;;AAqCN,eAAeA,UAAf","sourcesContent":["import { useCallback, useState } from \"react\"\nimport userApi from \"../api/userAPI\"\nimport User from \"../models/User\"\n\nconst useUserApi = () => {\n \n    const [users, setUsers] = useState<User[]>([]) //users เก็บ User ที่เป็น arr\n    const [loading, setLoading] = useState<boolean>(false)\n\n    const getAllUsers = useCallback(\n        async () => {\n            setLoading(true)\n            const result = await userApi.getUsers()\n            setUsers(result.data)\n            setLoading(false)\n        },\n        [setLoading, setUsers],\n    )\n\n    const insertUser = useCallback(\n        async (newUser: User) => {\n            setLoading(true)\n            const updatedUser = await userApi.postUser(newUser)\n            console.log(\"updatedUser : \", updatedUser)\n            setUsers(users => [...users, updatedUser.data])\n\n            // setUsers([...users, newUser])\n            setLoading(false)\n        },\n        [setUsers, setLoading],\n    )\n\n    return [\n        users,\n        loading,\n        getAllUsers,\n        insertUser\n    ] as const\n}\n\n\nexport default useUserApi"]},"metadata":{},"sourceType":"module"}